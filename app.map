{"version":3,"sources":["js/setup.js","templates/app.js","templates/blog.js","templates/create.js","templates/edit.js","templates/listview.js","js/model.js","js/views.js","js/router.js","js/new.js"],"sourcesContent":["var AppTemplates = {};\n","AppTemplates['app'] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"\";\n},\"useData\":true});","AppTemplates['blog'] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper, alias1=helpers.helperMissing, alias2=\"function\", alias3=this.escapeExpression;\n\n  return \"<div>\\n    <h1>\"\n    + alias3(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias1),(typeof helper === alias2 ? helper.call(depth0,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\n    <p class=\\\"author\\\">\"\n    + alias3(((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : alias1),(typeof helper === alias2 ? helper.call(depth0,{\"name\":\"author\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\n    <p class=\\\"content\\\">\"\n    + alias3(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias1),(typeof helper === alias2 ? helper.call(depth0,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\n\\n<a href=\\\"#\"\n    + alias3(((helper = (helper = helpers._id || (depth0 != null ? depth0._id : depth0)) != null ? helper : alias1),(typeof helper === alias2 ? helper.call(depth0,{\"name\":\"_id\",\"hash\":{},\"data\":data}) : helper)))\n    + \"/edit\\\"><button class=\\\"edit\\\">Edit Post</button></a>\\n\\n</div>\\n\";\n},\"useData\":true});","AppTemplates['create'] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"\\n<form class=\\\"create\\\">\\n    <label for=\\\"title\\\">Title</label>\\n    <input type=\\\"text\\\" name=\\\"title\\\" class=\\\"title\\\">\\n    <label for=\\\"content\\\">Content</label>\\n    <input name=\\\"content\\\" class=\\\"content\\\">\\n    <label for=\\\"author\\\">Author</label>\\n    <input name=\\\"author\\\" class=\\\"author\\\">\\n\\n    <button>Submit</button>\\n</form>\\n\";\n},\"useData\":true});","AppTemplates['edit'] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper, alias1=helpers.helperMissing, alias2=\"function\", alias3=this.escapeExpression;\n\n  return \"<form class=\\\"create\\\">\\n    <label for=\\\"title\\\">Title</label>\\n    <input type=\\\"text\\\" name=\\\"title\\\" class=\\\"title\\\" value=\\\"\"\n    + alias3(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias1),(typeof helper === alias2 ? helper.call(depth0,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n    <label for=\\\"content\\\">Content</label>\\n    <input name=\\\"content\\\" class=\\\"content\\\" value=\\\"\"\n    + alias3(((helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : alias1),(typeof helper === alias2 ? helper.call(depth0,{\"name\":\"content\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n    <label for=\\\"author\\\">Author</label>\\n    <input name=\\\"author\\\" class=\\\"author\\\" value=\\\"\"\n    + alias3(((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : alias1),(typeof helper === alias2 ? helper.call(depth0,{\"name\":\"author\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\\n    <button class=\\\"save\\\">Save Changes</button>\\n    <button class=\\\"destroy\\\">Delete</button>\\n</form>\\n\";\n},\"useData\":true});","AppTemplates['listview'] = Handlebars.template({\"1\":function(depth0,helpers,partials,data,blockParams) {\n    var stack1, alias1=this.lambda, alias2=this.escapeExpression;\n\n  return \"            <li>\\n                <a href=\\\"#\"\n    + alias2(alias1(((stack1 = blockParams[0][0]) != null ? stack1._id : stack1), depth0))\n    + \"\\\">\\n                    <p>\"\n    + alias2(alias1(((stack1 = blockParams[0][0]) != null ? stack1.title : stack1), depth0))\n    + \"</p>\\n                    <p>\"\n    + alias2(alias1(((stack1 = blockParams[0][0]) != null ? stack1.author : stack1), depth0))\n    + \"</p>\\n                </a>\\n            </li>\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data,blockParams) {\n    var stack1;\n\n  return \"<ul>\\n\"\n    + ((stack1 = helpers.each.call(depth0,depth0,{\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data, 1, blockParams),\"inverse\":this.noop,\"data\":data,\"blockParams\":blockParams})) != null ? stack1 : \"\")\n    + \"        <li><a href=\\\"/#new\\\"><button class=\\\"new-blog\\\">+ New Bookmark</button></a></li>\\n    </ul>\\n\";\n},\"useData\":true,\"useBlockParams\":true});","var Blog = Backbone.Model.extend({\n  idAttribute: '_id',\n  defaults: {\n    title: '',\n    content: '',\n    author: '',\n  },\n});\n\nvar BlogList = Backbone.Collection.extend({\n  model: Blog,\n  url: 'http://tiny-lr.herokuapp.com/collections/bt-blogcms',\n});\n","var CreateView = Backbone.View.extend({\n  template: AppTemplates.create,\n\n  initialize: function() {\n    this.listenTo(this.collection, 'add change sync', this.render);\n    this.render();\n  },\n\n  events: {\n    'submit form': 'saveBlog',\n  },\n\n  render: function() {\n    var html = this.template();\n    this.$el.html(html);\n    this.$el.find('.create').slideDown();\n    return this;\n  },\n\n  saveBlog: function(ev) {\n    ev.preventDefault();\n    var title = this.$el.find('input.title').val();\n    var content = this.$el.find('input.content').val();\n    var author = this.$el.find('input.author').val();\n    this.collection.create({title: title, content: content, author: author});\n  },\n});\n\nvar BlogListView = Backbone.View.extend({\n  template: AppTemplates.listview,\n\n  el: '#links',\n\n  initialize: function() {\n    this.listenTo(this.collection, 'add sync change', this.render);\n    this.collection.fetch();\n    this.render();\n  },\n\n  render: function() {\n    var _this = this;\n    var html = _this.template(_this.collection.toJSON());\n    _this.$el.html(html);\n    return this;\n  },\n});\n\nvar BlogView = Backbone.View.extend({\n  template: AppTemplates.blog,\n  el: '#read',\n\n  initialize: function() {\n    this.listenTo(this.collection, 'add sync change', this.render);\n    this.render();\n  },\n\n  render: function() {\n    var html = this.template(this.model.toJSON());\n    this.$el.html(html);\n\n    return this;\n  },\n});\n\nvar EditView = Backbone.View.extend({\n  template: AppTemplates.edit,\n\n  initialize: function() {\n    this.render();\n  },\n\n  events: {\n    'click .save': 'saveChanges',\n    'click .destroy': 'destroyBlog',\n  },\n\n  render: function() {\n    var html = this.template(this.model.toJSON());\n    this.$el.html(html);\n    this.$el.find('.create').slideDown();\n    return this;\n\n  },\n\n  saveChanges: function(ev) {\n    ev.preventDefault();\n\n    var title = this.$el.find('.title').val();\n    var content = this.$el.find('.content').val();\n    var author = this.$el.find('.author').val();\n\n    this.model.save({title: title, content: content, author: author});\n  },\n\n  destroyBlog: function(ev) {\n    ev.preventDefault();\n    this.model.destroy().then(function() {\n      router.navigate('', {trigger: true});\n    });\n  },\n});\n\n","var Router = Backbone.Router.extend({\n\n  initialize: function() {\n\n    // var blog = new Blog({collection: blogList});\n    this.collection = new BlogList();\n    // var blogList = new BlogList();\n    var listView = new BlogListView({collection: this.collection});\n  },\n\n  routes: {\n\n    'new': 'createView',\n    ':id': 'read',\n    ':id/edit': 'edit',\n  },\n\n  createView: function() {\n    var createView = new CreateView({collection: this.collection});\n    $('#read').html(createView.render().el);\n\n  },\n\n  read: function(id) {\n    var _this = this;\n\n    this.collection.fetch().then(function() {\n      var view = new BlogView({model: _this.collection.get(id)});\n    });\n  },\n\n  edit: function(id) {\n    var _this = this;\n\n    this.collection.fetch().then(function() {\n      var model = _this.collection.get(id);\n      var edit = new EditView({model: model});\n\n      $('#read').html(edit.render().el);\n    });\n  },\n});\n","var router = new Router();\nBackbone.history.start();\n\n// var blogView = new BlogView({model: blog});\n"],"names":[],"mappings":"AAAA;;ACAA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;","file":"app.js"}